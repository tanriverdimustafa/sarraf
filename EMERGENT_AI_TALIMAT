# EMERGENT AI - ADIM ADIM TALÄ°MAT REHBERÄ°
## ğŸ“… 11 AralÄ±k 2024

---

## ğŸ¯ AMAÃ‡

Kuyumculuk stok yÃ¶netim sisteminde tespit edilen 16 sorunu/eksiÄŸi gidermek.

---

## ğŸ“‚ PROJE BÄ°LGÄ°LERÄ°

**Proje Dizini:** `/home/claude/webproject202512111020-main`

**YapÄ±:**
```
webproject202512111020-main/
â”œâ”€â”€ backend/           # Python FastAPI
â”œâ”€â”€ frontend/          # React
â”œâ”€â”€ .emergent/         # Emergent AI metadata
â””â”€â”€ README.md
```

**Teknolojiler:**
- Backend: Python 3.11, FastAPI, MongoDB
- Frontend: React 19, Vite, shadcn/ui, Tailwind CSS

---

## ğŸ“‹ GÃ–REV LÄ°STESÄ° (16 GÃ¶rev - 5 Faz)

### FAZ 1: KRÄ°TÄ°K SORUNLAR (3 GÃ¶rev)
1. âœ… Combobox Sorunu Ã‡Ã¶zÃ¼mÃ¼
2. âœ… Party Balance API
3. âœ… Hurda AltÄ±n ile Ã–deme

### FAZ 2: YÃœKSEK Ã–NCELÄ°KLÄ° (7 GÃ¶rev)
4. âœ… KullanÄ±cÄ± YÃ¶netimi
5. âœ… Lookup YÃ¶netim Paneli (8 tab)
6. âœ… ÃœrÃ¼n - TedarikÃ§i BaÄŸlantÄ±sÄ±
7. âœ… FotoÄŸraf Upload
8. âœ… Barkod Basma
9. âœ… Parties - TC ve Adres
10. âœ… Sarrafiye (Adet BazlÄ±)

### FAZ 3: TRANSACTION LOGÄ°C (4 GÃ¶rev)
11. âœ… AltÄ±n AlÄ±mÄ± - Kar/Zarar
12. âœ… SatÄ±ÅŸ - PazarlÄ±k ve KÄ±smi Ã–deme
13. âœ… Tahsilat - Ä°skonto
14. âœ… DÃ¶viz - USD/EUR Rate Fix

### FAZ 4: RAPORLAR (1 GÃ¶rev)
15. âœ… Raporlar SayfasÄ±

### FAZ 5: DÄ°ÄER (1 GÃ¶rev)
16. âœ… updated_by AlanÄ±

---

## ğŸš€ NASIL BAÅLAYACAKSIN?

### 1. PROJE YAPISINI ANLA

Ä°lk olarak projeyi incele:

```bash
# Backend yapÄ±sÄ±nÄ± gÃ¶r
ls -la backend/

# Frontend yapÄ±sÄ±nÄ± gÃ¶r
ls -la frontend/src/

# Mevcut component'leri listele
find frontend/src/components -name "*.jsx" -o -name "*.js"

# Backend endpoint'leri gÃ¶r
cat backend/server.py | grep "@api_router"
```

### 2. ROADMAP'Ä° OKU

Ana gÃ¶rev listesi:
```bash
cat /home/claude/FINAL_ROADMAP_KISAi.md
```

Combobox debug bilgisi (ilk gÃ¶rev iÃ§in):
```bash
cat /home/claude/GERCEK_TEST_SORUN_ANALIZI.md
```

---

## ğŸ“ Ã‡ALIÅMA YÃ–NTEMÄ°

### Her GÃ¶rev Ä°Ã§in:

1. **DosyalarÄ± Oku**
   - Ä°lgili component'leri/endpoint'leri bul
   - Mevcut kodu incele
   - Sorunu tespit et

2. **DeÄŸiÅŸiklikleri Yap**
   - Kod yaz/gÃ¼ncelle
   - Console log ekle (debugging iÃ§in)
   - Test et

3. **Git Commit**
   ```bash
   git add .
   git commit -m "GÃ¶rev X.Y: [AÃ§Ä±klama]"
   ```

4. **Test Sonucunu Bildir**
   - Console log'larÄ± gÃ¶ster
   - Hata varsa belirt
   - BaÅŸarÄ±lÄ± ise sonraki gÃ¶reve geÃ§

---

## ğŸ¯ FAZ 1 - Ä°LK 3 GÃ–REV (Ã–NCELÄ°K)

### GÃ–REV 1.1: Combobox Sorunu âš¡

**Sorun:** Form combobox'larÄ± boÅŸ

**Dosyalar:**
- `frontend/src/components/transactions/forms/HurdaForm.jsx`
- `frontend/src/components/transactions/forms/PurchaseForm.jsx`
- `frontend/src/components/transactions/forms/PaymentForm.jsx`
- `frontend/src/components/PartyFormDialog.js`
- `frontend/src/components/transactions/forms/ExchangeForm.jsx`

**Ne YapacaksÄ±n:**

1. Her dosyayÄ± aÃ§
2. `loadLookups` fonksiyonunu bul
3. Console log ekle:
```javascript
const loadLookups = async () => {
  console.log('ğŸ” Loading lookups...');
  
  try {
    const [partiesData, karatsData] = await Promise.all([
      getParties(),
      getKarats()
    ]);
    
    console.log('ğŸ“Š Parties:', partiesData);
    console.log('ğŸ“Š Karats:', karatsData);
    
    setParties(partiesData || []);
    setKarats(karatsData || []);
    
    console.log('âœ… State updated');
  } catch (error) {
    console.error('âŒ Error:', error);
  }
};
```

4. SelectItem value fix:
```javascript
// Ã–NCE:
<SelectItem value={party.id}>

// SONRA:
<SelectItem value={party.id.toString()}>
```

5. Test et ve sonucu bildir

---

### GÃ–REV 1.2: Party Balance API âš¡

**Sorun:** Party detay sayfasÄ±nda bakiye gÃ¶rÃ¼nmÃ¼yor

**Ne YapacaksÄ±n:**

1. **Backend Endpoint Ekle** (`backend/server.py`):
```python
@api_router.get("/parties/{party_id}/balance")
async def get_party_balance(party_id: str):
    # HAS, TL, USD, EUR bakiyelerini hesapla
    # financial_transactions'dan aggregate
    pass

@api_router.get("/parties/{party_id}/transactions")
async def get_party_transactions(party_id: str, page: int = 1):
    # Party'nin iÅŸlemlerini getir (sayfalama ile)
    pass
```

2. **Frontend GÃ¼ncelle** (`frontend/src/pages/PartyDetailPage.js`):
```javascript
const [balance, setBalance] = useState(null);
const [transactions, setTransactions] = useState([]);

useEffect(() => {
  fetchPartyDetails();
}, [id]);

const fetchPartyDetails = async () => {
  const [partyRes, balanceRes, txRes] = await Promise.all([
    api.get(`/api/parties/${id}`),
    api.get(`/api/parties/${id}/balance`),
    api.get(`/api/parties/${id}/transactions?page=1`)
  ]);
  
  setParty(partyRes.data);
  setBalance(balanceRes.data);
  setTransactions(txRes.data.transactions);
};
```

3. Test et ve sonucu bildir

---

### GÃ–REV 1.3: Hurda AltÄ±n ile Ã–deme âš¡

**Sorun:** Ã–deme metodunda "Hurda AltÄ±n" detayÄ± sorulmuyor

**Ne YapacaksÄ±n:**

1. **PaymentForm.jsx GÃ¼ncelle:**
```javascript
const [showScrapSection, setShowScrapSection] = useState(false);
const [scrapLines, setScrapLines] = useState([]);

const handlePaymentMethodChange = (value) => {
  if (value === 'GOLD_SCRAP') {
    setShowScrapSection(true);
    setScrapLines([{ karat_id: '', weight_gram: '', fineness: '', has_amount: 0 }]);
    loadKarats();
  } else {
    setShowScrapSection(false);
  }
};

// UI'da hurda section ekle:
{showScrapSection && (
  <Card>
    <CardHeader>Hurda AltÄ±n DetaylarÄ±</CardHeader>
    <CardContent>
      {/* Karat select */}
      {/* AÄŸÄ±rlÄ±k input */}
      {/* Milyem input (editlenebilir!) */}
      {/* HAS hesaplama gÃ¶ster */}
    </CardContent>
  </Card>
)}
```

2. Test et ve sonucu bildir

---

## âš ï¸ Ã–NEMLÄ° HATIRLATMALAR

1. **WebSocket Ãœst Bar'a Dokunma** - Zaten Ã§alÄ±ÅŸÄ±yor
2. **Hurda Milyem** - Her iÅŸlemde editlenebilir (tedarikÃ§i bazlÄ± deÄŸil)
3. **Stok GiriÅŸi Transaction'Ä± Ekleme** - Gerek yok
4. **Ä°l/Ä°lÃ§e** - Metin input olacak (combo deÄŸil)
5. **Git Commit** - Her gÃ¶rev sonrasÄ± commit at

---

## ğŸ“Š Ä°LERLEME TAKÄ°BÄ°

Her gÃ¶rev tamamlandÄ±ÄŸÄ±nda ÅŸunu sÃ¶yle:
```
âœ… GÃ–REV X.Y TAMAMLANDI

DeÄŸiÅŸiklikler:
- Dosya 1: [Ne deÄŸiÅŸti]
- Dosya 2: [Ne deÄŸiÅŸti]

Test Sonucu:
- [BaÅŸarÄ±lÄ±/BaÅŸarÄ±sÄ±z]
- [Console log Ã§Ä±ktÄ±sÄ±]

Git Commit: [commit hash]

Sonraki gÃ¶rev: X.(Y+1)
```

---

## ğŸš€ HAZIR MISIN?

Åimdi ÅŸunu yap:

1. Proje yapÄ±sÄ±nÄ± incele
2. FINAL_ROADMAP_KISAi.md dosyasÄ±nÄ± oku
3. FAZ 1, GÃ–REV 1.1'den baÅŸla
4. Her adÄ±mda ilerlemeyi bildir

**BaÅŸla!** ğŸ¯
